module AppDrone
class EmberJs < Drone
  desc 'Installs ember.js for Rails'
  depends_on :bundle, :javascript

  param :app_skeleton, :boolean, info: 'build an Ember app skeleton'

  def align
    bundle.add 'ember-rails'
    javascript.pipeline_require 'ember'
    # TODO - rails g ember:bootstrap adds pipeline itself to 'application.js'
    # it just doesn't understand the .coffee part - perhaps move onreadies into their own coffeescript?
  end

  def execute
    do! :install
  end

end
end
